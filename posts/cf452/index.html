<!doctype html><html lang=en-us><head><title>Codeforces Round 452 // Ptzu's blog</title><link rel="shortcut icon" href=/favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.81.0"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Roger Lin"><meta name=description content><link rel=stylesheet href=https://ptzu.github.io/css/main.min.4a7ec8660f9a44b08c4da97c5f2e31b1192df1d4d0322e65c0dbbc6ecb1b863f.css><meta name=twitter:card content="summary"><meta name=twitter:title content="Codeforces Round 452"><meta name=twitter:description content="目錄  湊組別 月份日期合法 數字分堆差最小 湊出最多 9 相同數字區間刪除 區間刪除特定字元  A. Splitting in Teams 題目
input 輸入 n (2 ≤ n ≤ 2·10^5) 代表有 n 組 接著輸入每組有幾人 (1 ≤ a ≤ 2)
題解 有 n 組人參加訓練營, 每組有 1 人或 2 人 教練想要組隊參加比賽, 一隊有 3 人 若是一組要參加, 則整組的人都要參加 問最多能湊出幾隊去比賽
作法 兩人一組的一定只能和一人的組別配對 所以先算出這樣可以配出幾隊 然後剩下的一人組別再去湊
AC code #include <bits/stdc++.h> using namespace std; typedef pair <int,int> pii; typedef long long ll; #define pb push_back #define sz(a) (int)a."><meta property="og:title" content="Codeforces Round 452"><meta property="og:description" content="目錄  湊組別 月份日期合法 數字分堆差最小 湊出最多 9 相同數字區間刪除 區間刪除特定字元  A. Splitting in Teams 題目
input 輸入 n (2 ≤ n ≤ 2·10^5) 代表有 n 組 接著輸入每組有幾人 (1 ≤ a ≤ 2)
題解 有 n 組人參加訓練營, 每組有 1 人或 2 人 教練想要組隊參加比賽, 一隊有 3 人 若是一組要參加, 則整組的人都要參加 問最多能湊出幾隊去比賽
作法 兩人一組的一定只能和一人的組別配對 所以先算出這樣可以配出幾隊 然後剩下的一人組別再去湊
AC code #include <bits/stdc++.h> using namespace std; typedef pair <int,int> pii; typedef long long ll; #define pb push_back #define sz(a) (int)a."><meta property="og:type" content="article"><meta property="og:url" content="https://ptzu.github.io/posts/cf452/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-02-20T22:39:37+00:00"><meta property="article:modified_time" content="2018-02-20T22:39:37+00:00"></head><body><header class=app-header><a href=https://ptzu.github.io/><img class=app-header-avatar src=/avatar.jpg alt="Roger Lin"></a><h1>Ptzu's blog</h1><nav class=app-header-menu><a class=app-header-menu-item href=/>Home</a>
-
<a class=app-header-menu-item href=/tags/>Tags</a>
-
<a class=app-header-menu-item href=/about/>About</a></nav><p>Record of My Life.</p><div class=app-header-social><a href=https://github.com/ptzu target=_blank rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>My Github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title>Codeforces Round 452</h1><div class=post-meta><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Feb 20, 2018</div><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>8 min read</div><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg><a class=tag href=https://ptzu.github.io/tags/%E6%BB%91%E5%8B%95%E8%A6%96%E7%AA%97/>滑動視窗</a>
<a class=tag href=https://ptzu.github.io/tags/math/>Math</a>
<a class=tag href=https://ptzu.github.io/tags/%E7%B7%9A%E6%AE%B5%E6%A8%B9/>線段樹</a>
<a class=tag href=https://ptzu.github.io/tags/bit/>BIT</a></div></div></header><div class=post-content><h1 id=目錄>目錄</h1><ol><li>湊組別</li><li>月份日期合法</li><li>數字分堆差最小</li><li>湊出最多 9</li><li>相同數字區間刪除</li><li>區間刪除特定字元</li></ol><h1 id=a-splitting-in-teams>A. Splitting in Teams</h1><p><a href=http://codeforces.com/contest/899/problem/A>題目</a></p><h2 id=input>input</h2><p>輸入 n (2 ≤ n ≤ 2·10^5)
代表有 n 組
接著輸入每組有幾人 (1 ≤ a ≤ 2)</p><h2 id=題解>題解</h2><p>有 n 組人參加訓練營, 每組有 1 人或 2 人
教練想要組隊參加比賽, 一隊有 3 人
若是一組要參加, 則整組的人都要參加
問最多能湊出幾隊去比賽</p><h2 id=作法>作法</h2><p>兩人一組的一定只能和一人的組別配對
所以先算出這樣可以配出幾隊
然後剩下的一人組別再去湊</p><h2 id=ac-code>AC code</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
<span style=color:#66d9ef>typedef</span> pair <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>,<span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> pii;
<span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> ll;

<span style=color:#75715e>#define pb push_back
</span><span style=color:#75715e>#define sz(a) (int)a.size()
</span><span style=color:#75715e>#define INF 0x3f3f3f3f
</span><span style=color:#75715e>#define st first
</span><span style=color:#75715e>#define nd second
</span><span style=color:#75715e>#define fio ios::sync_with_stdio(false), cin.tie(0)
</span><span style=color:#75715e>#define DEBUG(x) printf(&#34;Here: %d\n&#34;, x), exit(0);
</span><span style=color:#75715e></span><span style=color:#75715e>// LLONG_MIN LLONG_MAX INT_MIN INT_MAX
</span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX_N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1000010</span>;

<span style=color:#66d9ef>int</span> n;
<span style=color:#66d9ef>int</span> cnt[<span style=color:#ae81ff>10</span>];

<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
    scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n);
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>){
        <span style=color:#66d9ef>int</span> x;
        scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>x);
        cnt[x]<span style=color:#f92672>++</span>;
    }
    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> min(cnt[<span style=color:#ae81ff>1</span>], cnt[<span style=color:#ae81ff>2</span>]);
    cnt[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>-=</span> ans;
    ans <span style=color:#f92672>+=</span> cnt[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>;
    printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, ans);
    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}
</code></pre></div><h1 id=b-months-and-years>B. Months and Years</h1><p><a href=http://codeforces.com/contest/899/problem/B>題目</a></p><h2 id=input-1>input</h2><p>輸入 n (1 ≤ n ≤ 24)
代表 n 個月</p><h2 id=題解-1>題解</h2><p>有平年和閏年
輸入月份的日期判斷是否合法</p><h2 id=作法-1>作法</h2><p>滑動視窗
將平年和閏年可能的循環比對一次即可</p><h2 id=ac-code-1>AC code</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
<span style=color:#66d9ef>typedef</span> pair <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>,<span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> pii;
<span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> ll;

<span style=color:#75715e>#define pb push_back
</span><span style=color:#75715e>#define sz(a) (int)a.size()
</span><span style=color:#75715e>#define INF 0x3f3f3f3f
</span><span style=color:#75715e>#define st first
</span><span style=color:#75715e>#define nd second
</span><span style=color:#75715e>#define fio ios::sync_with_stdio(false), cin.tie(0)
</span><span style=color:#75715e>#define DEBUG(x) printf(&#34;Here: %d\n&#34;, x), exit(0);
</span><span style=color:#75715e></span><span style=color:#75715e>// LLONG_MIN LLONG_MAX INT_MIN INT_MAX
</span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX_N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1000010</span>;

<span style=color:#66d9ef>int</span> n;
<span style=color:#66d9ef>int</span> t1[] <span style=color:#f92672>=</span> {<span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>28</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>28</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>};
<span style=color:#66d9ef>int</span> t2[] <span style=color:#f92672>=</span> {<span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>29</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>28</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>, <span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>31</span>};
<span style=color:#66d9ef>int</span> a[<span style=color:#ae81ff>100</span>];

<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
    scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n);
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>a[i]);
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>24</span>; i<span style=color:#f92672>++</span>){
        <span style=color:#66d9ef>bool</span> ok <span style=color:#f92672>=</span> true;
        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> n; j<span style=color:#f92672>++</span>){
            <span style=color:#66d9ef>if</span>(a[j] <span style=color:#f92672>!=</span> t1[(i <span style=color:#f92672>+</span> j) <span style=color:#f92672>%</span> <span style=color:#ae81ff>24</span>]){
                ok <span style=color:#f92672>=</span> false;
                <span style=color:#66d9ef>break</span>;
            }
        }
        <span style=color:#66d9ef>if</span>(ok){
            puts(<span style=color:#e6db74>&#34;YES&#34;</span>);
            <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
        }
    }
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>24</span>; i<span style=color:#f92672>++</span>){
        <span style=color:#66d9ef>bool</span> ok <span style=color:#f92672>=</span> true;
        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; j <span style=color:#f92672>&lt;</span> n; j<span style=color:#f92672>++</span>){
            <span style=color:#66d9ef>if</span>(a[j] <span style=color:#f92672>!=</span> t2[(i <span style=color:#f92672>+</span> j) <span style=color:#f92672>%</span> <span style=color:#ae81ff>24</span>]){
                ok <span style=color:#f92672>=</span> false;
                <span style=color:#66d9ef>break</span>;
            }
        }
        <span style=color:#66d9ef>if</span>(ok){
            puts(<span style=color:#e6db74>&#34;YES&#34;</span>);
            <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
        }
    }
    puts(<span style=color:#e6db74>&#34;NO&#34;</span>);
    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}
</code></pre></div><h1 id=c-dividing-the-numbers>C. Dividing the numbers</h1><p><a href=http://codeforces.com/contest/899/problem/C>題目</a></p><h2 id=input-2>input</h2><p>輸入 n (2 ≤ n ≤ 60 000)</p><h2 id=題解-2>題解</h2><p>現在有 1&mldr;n 的數字
想要將其分成兩堆
使得兩堆的總和差最小
求差和其中一堆的數字</p><h2 id=作法-2>作法</h2><p>這題可以用 DP 做, 將任意數字分成兩堆, 使差最小
但由於這題有個性質是 1&mldr;n
而且數字範圍夠大, DP 會超時</p><p>當 sum 為奇數時, 差必定為 1
反之為 0
我們要找數字可以塞滿 sum / 2
從大的數開始列舉, 塞得進去就塞
不過不太確定為啥可以這樣做</p><h2 id=ac-code-2>AC code</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
<span style=color:#66d9ef>typedef</span> pair <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>,<span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> pii;
<span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> ll;

<span style=color:#75715e>#define pb push_back
</span><span style=color:#75715e>#define sz(a) (int)a.size()
</span><span style=color:#75715e>#define INF 0x3f3f3f3f
</span><span style=color:#75715e>#define st first
</span><span style=color:#75715e>#define nd second
</span><span style=color:#75715e>#define fio ios::sync_with_stdio(false), cin.tie(0)
</span><span style=color:#75715e>#define DEBUG(x) printf(&#34;Here: %d\n&#34;, x), exit(0);
</span><span style=color:#75715e></span><span style=color:#75715e>// LLONG_MIN LLONG_MAX INT_MIN INT_MAX
</span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX_N <span style=color:#f92672>=</span> <span style=color:#ae81ff>1000010</span>;

<span style=color:#66d9ef>int</span> n;

<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
    scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n);
    ll sum <span style=color:#f92672>=</span> <span style=color:#ae81ff>1LL</span> <span style=color:#f92672>*</span> (<span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> n) <span style=color:#f92672>*</span> n <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
    ll target <span style=color:#f92672>=</span> sum <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
    vector <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> ans;
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> n; i <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>1</span>; i<span style=color:#f92672>--</span>){
        <span style=color:#66d9ef>if</span>(i <span style=color:#f92672>&lt;=</span> target){
            ans.pb(i);
            target <span style=color:#f92672>-=</span> i;
        }
    }
    <span style=color:#66d9ef>if</span>(sum <span style=color:#f92672>&amp;</span> <span style=color:#ae81ff>1</span>) puts(<span style=color:#e6db74>&#34;1&#34;</span>);
    <span style=color:#66d9ef>else</span> puts(<span style=color:#e6db74>&#34;0&#34;</span>);
    printf(<span style=color:#e6db74>&#34;%d&#34;</span>, sz(ans));
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>auto</span> i : ans){
        printf(<span style=color:#e6db74>&#34; %d&#34;</span>, i);
    }
    puts(<span style=color:#e6db74>&#34;&#34;</span>);
    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}
</code></pre></div><h1 id=d-shovel-sale>D. Shovel Sale</h1><p><a href=http://codeforces.com/contest/899/problem/D>題目</a></p><h2 id=input-3>input</h2><p>輸入 n (2 ≤ n ≤ 10^9)
代表商店有幾隻鏟子</p><h2 id=題解-3>題解</h2><p>第 i 個鏟子花費 i burles
有人喜歡花費的結尾是 9 (12399 就是兩個 9)
想問任買兩把鏟子, 可以有結尾最多 9 的方法有幾種</p><h2 id=作法-3>作法</h2><p>首先知道最大可以組出的數是 n + (n - 1)
在可以組出的數的範圍中, 找最多的 9 是多少
接著在這個數的前面加上一個數字
099999, &mldr; , 999999
若該數 &lt;= n + 1, 則可以兩兩配對, (1, n)、(2, n-1)&mldr;
反之就有一些組不出來, (num-n, n)、&mldr;、(num-n+x, n-x)
x 是多少呢？
{%math%}num-n+x &lt; n-x => 2x &lt; 2n - num => x &lt; n - num/2 {%endmath%}
總方法數就是 x + 1, x 最大為 n - num/2 -1, 所以就是 n - num/2</p><h2 id=ac-code-3>AC code</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;

<span style=color:#66d9ef>typedef</span> pair <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>,<span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> pii;
<span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> ll;

<span style=color:#75715e>#define pb push_back
</span><span style=color:#75715e>#define sz(a) (int)a.size()
</span><span style=color:#75715e>#define INF 0x3f3f3f3f
</span><span style=color:#75715e>#define st first
</span><span style=color:#75715e>#define nd second
</span><span style=color:#75715e>#define fio ios::sync_with_stdio(false), cin.tie(0)
</span><span style=color:#75715e>#define DEBUG(x) printf(&#34;Here: %d\n&#34;, x), exit(0);
</span><span style=color:#75715e></span><span style=color:#75715e>// LLONG_MIN LLONG_MAX INT_MIN INT_MAX
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
    <span style=color:#66d9ef>int</span> n;
    scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n);
    ll nine <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, ten <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
    <span style=color:#66d9ef>while</span>((n <span style=color:#f92672>+</span> n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>&gt;=</span> nine <span style=color:#f92672>*</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>9</span>){
        nine <span style=color:#f92672>=</span> nine <span style=color:#f92672>*</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>9</span>;
        ten <span style=color:#f92672>*=</span> <span style=color:#ae81ff>10</span>;
    }
    <span style=color:#66d9ef>if</span>(nine <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>){
        printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, n <span style=color:#f92672>*</span> (n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
        <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
    }
    ll ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>){
        ll num <span style=color:#f92672>=</span> i <span style=color:#f92672>*</span> ten <span style=color:#f92672>+</span> nine;
        <span style=color:#66d9ef>if</span>(num <span style=color:#f92672>&lt;=</span> n <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>){ <span style=color:#75715e>// 每種都能組出來, 共 num / 2 種
</span><span style=color:#75715e></span>            ans <span style=color:#f92672>+=</span> num <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
        }
        <span style=color:#66d9ef>else</span>{ <span style=color:#75715e>// 不能每種都組出來, num / 2 + 1 ... n
</span><span style=color:#75715e></span>            ans <span style=color:#f92672>+=</span> max(n <span style=color:#f92672>-</span> num <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0LL</span>);
        }
    }
    printf(<span style=color:#e6db74>&#34;%lld</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, ans);
    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}
</code></pre></div><h1 id=e-segments-removal>E. Segments Removal</h1><p><a href=http://codeforces.com/contest/899/problem/E>題目</a></p><h2 id=input-4>input</h2><p>輸入 n (1 ≤ n ≤ 200 000)
接著輸入 n 個數 a (1 ≤ a ≤ 109)</p><h2 id=題解-4>題解</h2><p>對一數列做操作
將最長的連續相等數字移除 (若有多個, 選最左邊的)
例如 13, 13, 7, 7, 7, 2, 2, 2
變成 13, 13, 2, 2, 2
請問要幾次操作才能清空？</p><h2 id=作法-4>作法</h2><p>可以先將相同數字變成一堆
然後用 linked list 方法移除, 或是用 set 也可
每次用 priority_queue 找出最大的 segment</p><h2 id=ac-code-4>AC code</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;

<span style=color:#66d9ef>typedef</span> pair <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>,<span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> pii;
<span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> ll;

<span style=color:#75715e>#define pb push_back
</span><span style=color:#75715e>#define sz(a) (int)a.size()
</span><span style=color:#75715e>#define INF 0x3f3f3f3f
</span><span style=color:#75715e>#define st first
</span><span style=color:#75715e>#define nd second
</span><span style=color:#75715e>#define fio ios::sync_with_stdio(false), cin.tie(0)
</span><span style=color:#75715e>#define DEBUG(x) printf(&#34;Here: %d\n&#34;, x), exit(0);
</span><span style=color:#75715e></span><span style=color:#75715e>// LLONG_MIN LLONG_MAX INT_MIN INT_MAX
</span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX_N <span style=color:#f92672>=</span> <span style=color:#ae81ff>505050</span>;

<span style=color:#66d9ef>struct</span> <span style=color:#a6e22e>node</span>{
    <span style=color:#66d9ef>int</span> val, len, pre, nxt;
};

vector <span style=color:#f92672>&lt;</span>node<span style=color:#f92672>&gt;</span> v;
<span style=color:#66d9ef>int</span> a[<span style=color:#ae81ff>202020</span>];
<span style=color:#66d9ef>bool</span> alive[<span style=color:#ae81ff>202020</span>];
priority_queue <span style=color:#f92672>&lt;</span>pii<span style=color:#f92672>&gt;</span> pq;

<span style=color:#66d9ef>void</span> <span style=color:#a6e22e>kill</span>(<span style=color:#66d9ef>int</span> u){
    alive[u] <span style=color:#f92672>=</span> false;
    <span style=color:#66d9ef>int</span> pre <span style=color:#f92672>=</span> v[u].pre, nxt <span style=color:#f92672>=</span> v[u].nxt;
    <span style=color:#66d9ef>if</span>(pre <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) v[pre].nxt <span style=color:#f92672>=</span> nxt;
    <span style=color:#66d9ef>if</span>(nxt <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) v[nxt].pre <span style=color:#f92672>=</span> pre;
}

<span style=color:#66d9ef>void</span> <span style=color:#a6e22e>merge</span>(<span style=color:#66d9ef>int</span> a, <span style=color:#66d9ef>int</span> b){
    <span style=color:#66d9ef>if</span>(a <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>||</span> b <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>return</span> ;
    v[a].len <span style=color:#f92672>+=</span> v[b].len;
    pq.push(pii{v[a].len, <span style=color:#f92672>-</span>a});
    kill(b);
}


<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
    <span style=color:#66d9ef>int</span> n;
    scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n);
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>a[i]);
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, j; i <span style=color:#f92672>&lt;</span> n; i <span style=color:#f92672>=</span> j){
        <span style=color:#66d9ef>for</span>(j <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>&amp;&amp;</span> a[i] <span style=color:#f92672>==</span> a[j]; j<span style=color:#f92672>++</span>);
        v.pb((node){a[i], j <span style=color:#f92672>-</span> i});
    }
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> sz(v); i<span style=color:#f92672>++</span>){
        alive[i] <span style=color:#f92672>=</span> true;
        v[i].pre <span style=color:#f92672>=</span> (i <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) <span style=color:#f92672>?</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>:</span> i <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
        v[i].nxt <span style=color:#f92672>=</span> (i <span style=color:#f92672>==</span> sz(v) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>?</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>:</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>;
        pq.push(pii{v[i].len, <span style=color:#f92672>-</span>i});
    }
    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
    <span style=color:#66d9ef>while</span>(<span style=color:#f92672>!</span>pq.empty()){
        pii top <span style=color:#f92672>=</span> pq.top(); pq.pop();
        <span style=color:#66d9ef>int</span> u <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>top.nd;
        <span style=color:#75715e>// cout &lt;&lt; u &lt;&lt; &#34; &#34; &lt;&lt; v[u].len &lt;&lt; &#34; &#34; &lt;&lt; top.st &lt;&lt; endl;
</span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>alive[u] <span style=color:#f92672>||</span> v[u].len <span style=color:#f92672>!=</span> top.st) <span style=color:#66d9ef>continue</span>;
        ans<span style=color:#f92672>++</span>;
        <span style=color:#66d9ef>int</span> pre <span style=color:#f92672>=</span> v[u].pre, nxt <span style=color:#f92672>=</span> v[u].nxt;
        kill(u);
        <span style=color:#66d9ef>if</span>(pre <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> nxt <span style=color:#f92672>!=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> v[pre].val <span style=color:#f92672>==</span> v[nxt].val) merge(pre, nxt);
    }
    printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, ans);
    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}
</code></pre></div><h2 id=ac-code-2-1>AC code 2</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;

<span style=color:#66d9ef>typedef</span> pair <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>,<span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> pii;
<span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> ll;

<span style=color:#75715e>#define pb push_back
</span><span style=color:#75715e>#define sz(a) (int)a.size()
</span><span style=color:#75715e>#define INF 0x3f3f3f3f
</span><span style=color:#75715e>#define st first
</span><span style=color:#75715e>#define nd second
</span><span style=color:#75715e>#define fio ios::sync_with_stdio(false), cin.tie(0)
</span><span style=color:#75715e>#define DEBUG(x) printf(&#34;Here: %d\n&#34;, x), exit(0);
</span><span style=color:#75715e></span><span style=color:#75715e>// LLONG_MIN LLONG_MAX INT_MIN INT_MAX
</span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX_N <span style=color:#f92672>=</span> <span style=color:#ae81ff>200000</span>;

<span style=color:#66d9ef>int</span> a[MAX_N <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>];
set <span style=color:#f92672>&lt;</span>pii<span style=color:#f92672>&gt;</span> s;
priority_queue <span style=color:#f92672>&lt;</span>pii<span style=color:#f92672>&gt;</span> pq;

<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
    <span style=color:#66d9ef>int</span> n;
    scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>n);
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>) scanf(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#f92672>&amp;</span>a[i]);
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, j; i <span style=color:#f92672>&lt;</span> n; i <span style=color:#f92672>=</span> j){
        <span style=color:#66d9ef>for</span>(j <span style=color:#f92672>=</span> i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>; j <span style=color:#f92672>&lt;</span> n <span style=color:#f92672>&amp;&amp;</span> a[j] <span style=color:#f92672>==</span> a[i]; j<span style=color:#f92672>++</span>);
        s.insert(pii{i, j <span style=color:#f92672>-</span> i}); <span style=color:#75715e>// pos, len
</span><span style=color:#75715e></span>        pq.push(pii{j <span style=color:#f92672>-</span> i, <span style=color:#f92672>-</span>i});
    }
    <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
    <span style=color:#66d9ef>while</span>(<span style=color:#f92672>!</span>pq.empty()){
        pii top <span style=color:#f92672>=</span> pq.top(); pq.pop();
        <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> s.find(pii{<span style=color:#f92672>-</span>top.nd, top.st});
        <span style=color:#66d9ef>if</span>(it <span style=color:#f92672>!=</span> s.end()){
            <span style=color:#66d9ef>bool</span> ok <span style=color:#f92672>=</span> false;
            ans<span style=color:#f92672>++</span>;
            <span style=color:#66d9ef>if</span>(it <span style=color:#f92672>!=</span> s.begin() <span style=color:#f92672>&amp;&amp;</span> next(it) <span style=color:#f92672>!=</span> s.end()){
                <span style=color:#66d9ef>if</span>(a[prev(it)<span style=color:#f92672>-&gt;</span>st] <span style=color:#f92672>==</span> a[next(it)<span style=color:#f92672>-&gt;</span>st]){
                    <span style=color:#66d9ef>int</span> val <span style=color:#f92672>=</span> prev(it)<span style=color:#f92672>-&gt;</span>st;
                    <span style=color:#66d9ef>int</span> len <span style=color:#f92672>=</span> prev(it)<span style=color:#f92672>-&gt;</span>nd <span style=color:#f92672>+</span> next(it)<span style=color:#f92672>-&gt;</span>nd;
                    s.erase(prev(it), next(next(it)));
                    s.insert(pii{val, len});
                    pq.push(pii{len, <span style=color:#f92672>-</span>val});
                    ok <span style=color:#f92672>=</span> true;
                }
            }
            <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>ok) s.erase(it);
        }
    }
    printf(<span style=color:#e6db74>&#34;%d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>, ans);
    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}
</code></pre></div><h1 id=f-letters-removing>F. Letters Removing</h1><p><a href=http://codeforces.com/contest/899/problem/F>題目</a></p><h2 id=input-5>input</h2><p>輸入 n, m (1 ≤ n, m ≤ 2·10^5)
代表字串長度 n, m 個操作
接著輸入 m 個操作
l r c, 在 [l, r] 區間刪除字元 c</p><h2 id=題解-5>題解</h2><p>給一字串
有個操作在 [l, r] 區間刪除字元 c
問做完 m 個操作後, 字串結果為何</p><h2 id=作法-5>作法</h2><p>很顯然不能實際去刪除字元, 不然會炸時間
我們可以紀錄每個字元出現的位置
然後把 [l, r] 區間的出現位置刪掉, 並標記該位置已刪除, 這部份可以用 set 做
問題在於刪除之後, 字元的位置會改變
我們可以用 01 陣列搭配上前綴和, 去求第 k 個實際上的位置
這部份可以用線段樹或BIT, 不過提到前綴和當然還是 BIT 最方便了
求前綴和為 k, 可以用二分搜</p><h2 id=ac-code-5>AC code</h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
<span style=color:#66d9ef>typedef</span> pair <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span>,<span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> pii;
<span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> ll;

<span style=color:#75715e>#define pb push_back
</span><span style=color:#75715e>#define sz(a) (int)a.size()
</span><span style=color:#75715e>#define INF 0x3f3f3f3f
</span><span style=color:#75715e>#define st first
</span><span style=color:#75715e>#define nd second
</span><span style=color:#75715e>#define fio ios::sync_with_stdio(false), cin.tie(0)
</span><span style=color:#75715e>#define DEBUG(x) printf(&#34;Here: %d\n&#34;, x), exit(0);
</span><span style=color:#75715e></span><span style=color:#75715e>// LLONG_MIN LLONG_MAX INT_MIN INT_MAX
</span><span style=color:#75715e></span><span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> MAX_N <span style=color:#f92672>=</span> <span style=color:#ae81ff>200000</span>;

<span style=color:#66d9ef>int</span> n, m;
string s;
<span style=color:#66d9ef>int</span> bit[MAX_N <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>];
<span style=color:#66d9ef>bool</span> del[MAX_N <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>];
set <span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span> at[<span style=color:#ae81ff>200</span>];

<span style=color:#66d9ef>void</span> <span style=color:#a6e22e>add</span>(<span style=color:#66d9ef>int</span> i, <span style=color:#66d9ef>int</span> x){
    <span style=color:#66d9ef>while</span>(i <span style=color:#f92672>&lt;=</span> MAX_N){
        bit[i] <span style=color:#f92672>+=</span> x;
        i <span style=color:#f92672>+=</span> i <span style=color:#f92672>&amp;</span> <span style=color:#f92672>-</span>i;
    }
}

<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>sum</span>(<span style=color:#66d9ef>int</span> i){
    <span style=color:#66d9ef>int</span> res <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
    <span style=color:#66d9ef>while</span>(i){
        res <span style=color:#f92672>+=</span> bit[i];
        i <span style=color:#f92672>-=</span> i <span style=color:#f92672>&amp;</span> <span style=color:#f92672>-</span>i;
    }
    <span style=color:#66d9ef>return</span> res;
}

<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>kth</span>(<span style=color:#66d9ef>int</span> x){
    <span style=color:#66d9ef>int</span> lb <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, ub <span style=color:#f92672>=</span> MAX_N;
    <span style=color:#66d9ef>while</span>(ub <span style=color:#f92672>-</span> lb <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span>){
        <span style=color:#66d9ef>int</span> mid <span style=color:#f92672>=</span> (ub <span style=color:#f92672>+</span> lb) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
        <span style=color:#66d9ef>if</span>(sum(mid) <span style=color:#f92672>&gt;=</span> x) ub <span style=color:#f92672>=</span> mid;
        <span style=color:#66d9ef>else</span> lb <span style=color:#f92672>=</span> mid;
    }
    <span style=color:#66d9ef>return</span> ub <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
}

<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>(){
    scanf(<span style=color:#e6db74>&#34;%d%d&#34;</span>, <span style=color:#f92672>&amp;</span>n, <span style=color:#f92672>&amp;</span>m);
    cin <span style=color:#f92672>&gt;&gt;</span> s;
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>){
        at[(<span style=color:#66d9ef>int</span>)s[i]].insert(i);
        add(i <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
    }
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> m; i<span style=color:#f92672>++</span>){
        <span style=color:#66d9ef>int</span> l, r;
        <span style=color:#66d9ef>char</span> ch[<span style=color:#ae81ff>10</span>];
        scanf(<span style=color:#e6db74>&#34;%d%d%s&#34;</span>, <span style=color:#f92672>&amp;</span>l, <span style=color:#f92672>&amp;</span>r, ch);
        l <span style=color:#f92672>=</span> kth(l);
        r <span style=color:#f92672>=</span> kth(r);
        <span style=color:#66d9ef>auto</span> it <span style=color:#f92672>=</span> at[ch[<span style=color:#ae81ff>0</span>]].lower_bound(l);
        <span style=color:#66d9ef>auto</span> temp <span style=color:#f92672>=</span> it;
        <span style=color:#66d9ef>while</span>(it <span style=color:#f92672>!=</span> at[ch[<span style=color:#ae81ff>0</span>]].end() <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>*</span>it <span style=color:#f92672>&lt;=</span> r){
            del[<span style=color:#f92672>*</span>it] <span style=color:#f92672>=</span> true;
            add(<span style=color:#f92672>*</span>it <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
            it<span style=color:#f92672>++</span>;
        }
        at[ch[<span style=color:#ae81ff>0</span>]].erase(temp, it);
    }
    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> n; i<span style=color:#f92672>++</span>){
        <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span>del[i]){
            printf(<span style=color:#e6db74>&#34;%c&#34;</span>, s[i]);
        }
    }
    puts(<span style=color:#e6db74>&#34;&#34;</span>);
    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}
</code></pre></div></div><div class=post-footer></div></article></main></body></html>